<app-loading #loading></app-loading>
<div class="d-flex justify-content-center align-items-center vh-100">
    <div class="form-signin text-center custom-form" style="max-width: 90%;">
        <form class="my-4">
            <h1 class="h3 mb-4 fw-normal py-3">Passenger Details</h1>
            <div class="form-group mx-3">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-floating">
                            <input type="number" class="form-control" id="passengerCount" [(ngModel)]="passengerCount"
                                name="passengerCount" min="1" [max]="maxPassengerCount"
                                (ngModelChange)="onPassengerCountChange()">
                            <label for="passengerCount">Passenger Count</label>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-floating">
                            <select class="form-control" id="classType" [(ngModel)]="classType" name="classType" (ngModelChange)="calculateTicketPrice()">
                                <option value="" disabled>Select your Class</option>
                                <option value="Economy">Economy</option>
                                <option value="Business">Business</option>
                                <option value="First Class">First Class</option>
                            </select>
                            <label for="classType">Class</label>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <div class="form-group mx-3" *ngFor="let passenger of passengers; let i = index">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="passengerName{{ i }}"
                                [(ngModel)]="passenger.name" name="passengerName{{ i }}">
                            <label for="passengerName{{ i }}">Name</label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-floating">
                            <input type="date" class="form-control" id="passengerDOB{{ i }}" [(ngModel)]="passenger.dob"
                                name="passengerDOB{{ i }}">
                            <label for="passengerDOB{{ i }}">Date of Birth</label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-floating">
                            <input type="email" class="form-control" id="passengerEmail{{ i }}"
                                [(ngModel)]="passenger.email" name="passengerEmail{{ i }}">
                            <label for="passengerEmail{{ i }}">Email</label>
                        </div>
                    </div>
                </div>
                <br>
            </div>
            <div class="d-flex justify-content-between px-3">
                <p>Price: {{ticketPrice}}</p>
            <button class="btn btn-primary" (click)="bookFlight()">Book Flight</button>
            </div>
        </form>
    </div>
</div>
<div toastContainer></div>
